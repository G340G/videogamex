<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <title>ENTROPY.DAT // RE:ITERATION</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <div id="main">
    <div id="crt-frame" aria-label="ENTROPY.DAT CRT">
      <canvas id="game" width="640" height="480"></canvas>

      <!-- CRT FX -->
      <div class="scanlines"></div>
      <div class="vignette"></div>

      <!-- HUD -->
      <div id="ui" aria-hidden="true">
        <div class="hud-row">
          <div class="hud-box" id="hud-left">
            <div id="hud-loc">LOC: …</div>
            <div id="hud-obj" class="hud-warn">OBJ: …</div>
            <div id="hud-mission" class="hud-dim">—</div>
          </div>

          <div class="hud-box" id="hud-right">
            <div class="hud-label">OXYGEN</div>
            <div class="bar"><div id="bar-oxy" class="fill"></div></div>
            <div class="hud-label">SANITY</div>
            <div class="bar"><div id="bar-san" class="fill red"></div></div>
            <div class="hud-mini" id="hud-stats">…</div>
          </div>
        </div>

        <div class="hud-row bottom">
          <div class="hud-box" id="hud-log">SYSTEM READY…</div>
          <div class="hud-box" id="hud-ammo">—</div>
        </div>
      </div>

      <!-- MENU / INTRO -->
      <div id="menu" class="overlay" role="dialog" aria-label="Start menu">
        <div class="panel">
          <h1>ENTROPY.DAT</h1>
          <div class="sub">A facility that edits your choices while you watch.</div>

          <div class="form">
            <label>PROTAGONIST NAME</label>
            <input id="nameInput" type="text" maxlength="16" placeholder="type a name…" autocomplete="off" />
          </div>

          <div class="form">
            <label>ROLE</label>
            <select id="roleSelect">
              <option value="thief">THIEF (fast dash, low ammo)</option>
              <option value="killer">KILLER (melee burst, unstable sanity)</option>
              <option value="butcher">BUTCHER (slow, heavy hits, more oxygen tanks)</option>
            </select>
          </div>

          <div class="form">
            <label>DIFFICULTY (RANDOMIZED EACH RUN)</label>
            <div class="sub tiny" id="diffPreview">…</div>
          </div>

          <div class="hint">
            Controls: WASD/Arrows move · Shift sprint · <b>Space attack</b> · <b>E interact/pulse</b> · 1/2 answer prompts
            <br/>Tip: Killing keeps you alive — and makes the place remember you.
          </div>

          <div class="row">
            <button id="btnStart">INITIALIZE RUN</button>
            <button id="btnMute" class="ghost">AUDIO: ON</button>
          </div>

          <div class="sub tiny" id="introLore">…</div>
        </div>
      </div>

      <!-- TERMINAL / CODE LOCK -->
      <div id="terminal" class="overlay hidden" role="dialog" aria-label="Security terminal">
        <div class="panel terminal">
          <h2>SECURITY LOCK</h2>
          <div class="sub">ENTER 3-DIGIT OVERRIDE</div>
          <div class="code">
            <input class="digit" id="d1" maxlength="1" inputmode="numeric" />
            <input class="digit" id="d2" maxlength="1" inputmode="numeric" />
            <input class="digit" id="d3" maxlength="1" inputmode="numeric" />
          </div>
          <div class="row">
            <button id="btnExec">EXECUTE</button>
            <button id="btnAbort" class="ghost">ABORT</button>
          </div>
          <div class="sub tiny" id="termHint">…</div>
        </div>
      </div>

      <!-- PROMPT / LORE CHOICE -->
      <div id="prompt" class="overlay hidden" role="dialog" aria-label="Lore prompt">
        <div class="panel prompt">
          <div id="promptText" class="prompt-text">…</div>
          <div class="prompt-choices">
            <div id="promptA">1) …</div>
            <div id="promptB">2) …</div>
          </div>
          <div class="bar slim"><div id="promptBar" class="fill red"></div></div>
          <div class="sub tiny">Press 1 / 2 (or Y / N)</div>
        </div>
      </div>

      <!-- IMAGE FLASH OVERLAY -->
      <div id="flash" class="flash hidden" aria-hidden="true"></div>

    </div>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
